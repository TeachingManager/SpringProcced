1.
설계를 할때에는
클래스, 객체, 도메인 별로 따로 설계 도면을 만드는 것이 좋다.

HashMap 대신 Conquerent HashMap 을 써야 동시성 문제를 해결 할 수 있다.

이때
클라이언트 -> 서비스 -> 레퍼지토리

로 구현이 되는데,
이렇게 하는 이유는 다형성을 위해서이다.


테스트시에 

given
when
then
정해놓기

interface 를 implements 하는 객체가 오로지 하나면 그 객체의 이름을 Impl 을 붙이는 형식으로 간다.



2. 주문 도메인

할인 정책이 달라 질 수 있으므로.

클리이언트 -> 주문 서비스 역할 -> 회원저장소 -> 주문 서비스 -> 할인 정책  -> 주문서비스 -> 클라이언트

주문이 들어오면, 회원 등급 조회하고, 그에 맞는 할인정책 조회하고, 주문 결과 반환 

자세한 구현은 소스 코드 참고
